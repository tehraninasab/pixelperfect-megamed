<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- mobile-friendly scaling -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Project-Title – Paper Page</title>

    <!-- Bootstrap 5 CSS (responsive grid, utilities, ScrollSpy) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css">
    <style>
      :root {
        --primary-green: #7dd185;
        --dark-green: #3B6255;
        --light-green: #C7CDBF;
        --background: #E2DFDA;
        --text-color: #2c3e50;
        --hover-green: #8BA49A;
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: var(--background);
        color: var(--text-color);
      }
      /* Make the "Contents" list stick on desktop */
      @media (min-width: 768px) {
        #toc {
          position: sticky;
          top: 1rem; /* starts sticking just below the top bar */
          max-height: 80vh; /* never run off screen */
          overflow-y: auto;
        }
      }

      /* Simple accent for active ScrollSpy link */
      #toc .nav-link.active {
        font-weight: 600;
        text-decoration: underline;
      }

      footer.custom-footer {
        background-color: var(--dark-green);
        color: var(--dark-green);
        text-align: center;
        padding: 3rem 1rem;
      }

      .footer-box {
        background-color: var(--light-green); /* slightly darker than beige background */
        padding: 1.5rem;
        border-radius: 12px;
        max-width: 900px;
        margin: 0 auto 1rem auto;
      }

      .footer-box h5 {
        font-weight: 700;
        margin-bottom: 1rem;
      }

      .footer-box p {
        margin-bottom: 0;
      }

      .visitor-counter {
        background-color: #e8dfd7;
        display: inline-block;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        font-size: 0.9rem;
        margin-top: 0.5rem;
      }

      header.custom-header {
        background-color: var(--dark-green);
        color: #ffffff;
        padding: 2rem 1rem;
        border-radius: 0 0 16px 16px;
        width: 100%;
        text-align: center;
      }

      .custom-header h1 {
        color: #E2DFDA;
        font-size: 2rem;
        line-height: 1.3;
        font-weight: 500;
        letter-spacing: 0.5px;
      }
      .custom-header p,
      .custom-header small,
      .custom-header a {
        color: #ffffff !important;
      }

      .custom-header .btn-outline-primary {
        border-color: white;
        color: white;
      }

      .custom-header .btn-outline-primary:hover {
        background-color: white;
        color: #317d82;
      }

      section {
        background-color: #ffffff;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        opacity: 0;
        transform: translateY(30px);
        transition:
          opacity 0.8s ease-out,
          transform 0.8s ease-out;
      }

      section.visible {
        opacity: 1;
        transform: translateY(0);
      }

      section h2 {
        font-weight: 600;
        font-size: 1.5rem;
        margin-bottom: 1.5rem;
        color: var(--dark-green);
        border-bottom: 1px solid #dee2e6;
        padding-bottom: 0.5rem;
      }

      .fade-in {
        opacity: 0;
        transform: translateY(10px);
        animation: fadeInUp 1s ease-out forwards;
      }

      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-delay-1 {
        animation-delay: 0.3s;
      }
      .fade-delay-2 {
        animation-delay: 0.6s;
      }

      .author-link {
        color: #ffecb3; /* soft yellow that pops on blue */
        text-decoration: underline;
        font-weight: 600;
      }

      .author-link:hover {
        color: #fff;
        text-decoration: none;
      }

      .custom-btn {
        background-color: #CBDED3;
        color: white !important;
        border-radius: 999px;
        padding: 0.5rem 1.2rem;
        display: inline-flex;
        align-items: center;
        font-weight: 500;
        font-size: 1rem;
        border: none;
        text-decoration: none;
        margin: 0.25rem;
      }

      /* Force link state colors to white too */
      .custom-btn:link,
      .custom-btn:visited,
      .custom-btn:active {
        color: black !important;
        text-decoration: none;
      }

      .custom-btn:hover {
        background-color: var(--hover-green);
        text-decoration: none;
        color: white;
      }

      .custom-btn img {
        vertical-align: middle;
      }

      .github-btn {
        background-color: var(--light-green);
        border: none;
        border-radius: 999px;
        padding: 0.5rem 1.2rem;
        display: inline-flex;
        align-items: center;
        font-weight: 500;
        font-size: 1rem;
        text-decoration: none;
        color: white !important;
      }

      .github-btn:link,
      .github-btn:visited,
      .github-btn:active,
      .github-btn:focus {
        color: white !important;
        text-decoration: none;
        background-color: #1e1e1e;
      }

      .github-btn:hover {
        background-color: var(--hover-green);
        text-decoration: none;
        color: white;
      }

      .github-btn img {
        vertical-align: middle;
      }

      .workshop-name {
        font-weight: 600;
        font-size: 1.1rem;
        margin-top: 0.5rem;
      }

      .custom-header .workshop-name {
        color: #ad2e2e !important;
      }

      /* Button container for better spacing */
      .button-group {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        gap: 0.5rem;
        margin-top: 1rem;
      }

      /* Responsive adjustments for buttons */
      @media (max-width: 576px) {
        .button-group {
          flex-direction: column;
        }
        .custom-btn {
          width: 150px;
          justify-content: center;
        }
      }

      .video-container {
        max-width: 65%; /* Adjust this percentage to match the text width */
        margin: 0 auto; /* Center the video */
      }

      .custom-navbar {
        background-color: var(--dark-green);; /* Dark red color */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Subtle shadow */
      }
      
      .navbar-brand {
        font-weight: 600;
        font-size: 1.2rem;
        color: #fff; /* White text for contrast */
      }
      
      .nav-link {
        font-weight: 500;
        color: #fff !important; /* Ensure links are white */
      }
      
      .nav-link:hover {
        text-decoration: underline;
        color: #ffcccb !important; /* Light red hover effect */
      }
      
      .nav-link i {
        color: #ffcccb; /* Icon color */
      }

      .navbar-nav {
        gap: 2rem; /* Adjust horizontal spacing between icons */
      }
      
      .nav-link i {
        font-size: 1.5rem; /* Adjust icon size */
        color: #ffcccb; /* Icon color */
      }
      
      .nav-link:hover i {
        color: var(--light-green); /* Change icon color on hover */
      }
      
      .nav-link span {
        font-weight: 500;
        color: #ffffff; /* Text color */
      }

      .custom-navbar {
        background-color: var(--dark-green); /* Dark red color */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        padding: 0.5rem 1rem; /* Reduce vertical padding */
      }
      
      .nav-link {
        font-size: 0.9rem; /* Adjust text size */
        padding: 0.1rem 0.5rem; /* Reduce padding inside links */
      }
      
      .navbar-toggler {
        padding: 0.1rem 0.5rem; /* Adjust toggle button padding */
      }

      
    </style>
  </head>
  <body
    data-bs-spy="scroll"
    data-bs-target="#toc"
    data-bs-smooth-scroll="true"
    tabindex="0"
  >
    <!-- ================= NAVBAR ================= -->
    <nav class="navbar navbar-expand-lg sticky-top custom-navbar">
      <div class="container justify-content-center">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mx-auto d-flex justify-content-center gap-4">
            <li class="nav-item">
              <a class="nav-link text-center" href="#abstract">
                <i class="fas fa-book-open"></i>
                <span class="d-block mt-1">Abstract</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-center" href="#method">
                <i class="fas fa-cogs"></i>
                <span class="d-block mt-1">Method</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-center" href="#results">
                <i class="fas fa-chart-bar"></i>
                <span class="d-block mt-1">Results</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-center" href="#conclusion">
                <i class="fas fa-lightbulb"></i>
                <span class="d-block mt-1">Conclusion</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-center" href="#bibtex">
                <i class="fas fa-quote-right"></i>
                <span class="d-block mt-1">Citation</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- ================= HEADER ================= -->
    <header class="custom-header w-100 fade-in">
      <div class="container">
        <h1 class="h3 fw-semibold">
          Pixel Perfect MegaMed: A Megapixel-Scale<br />
          Vision-Language Foundation Model for Generating<br />
          High Resolution Medical Images
        </h1>

        <div class="row justify-content-center my-3">
          <div class="col-md-3 text-center">
            <strong
              ><a
                href="https://tehraninasab.github.io"
                target="_blank"
                rel="noopener noreferrer"
                class="author-link"
                >Zahra TehraniNasab</a
              ></strong
            ><br />
            <small class="text-white-50"
              >McGill University, MILA-Quebec AI Institute</small
            >
          </div>
          <div class="col-md-3 text-center">
            <strong
              ><a
                href="https://amarkr.com/"
                target="_blank"
                rel="noopener noreferrer"
                class="author-link"
                >Amar Kumar</a
              ></strong
            ><br />
            <small class="text-white-50"
              >McGill University, MILA-Quebec AI Institute</small
            >
          </div>
          <div class="col-md-3 text-center">
            <strong
              ><a
                href="https://cim.mcgill.ca/~arbel/"
                target="_blank"
                rel="noopener noreferrer"
                class="author-link"
                >Tal Arbel</a
              ></strong
            ><br />
            <small class="text-white-50"
              >McGill University, MILA-Quebec AI Institute</small
            >
          </div>
        </div>
        
        <!-- Button group for better organization -->
        <div class="button-group">
          <!-- arXiv button -->
          <a
            class="custom-btn"
            href="https://arxiv.org/abs/xxxx.xxxxx"
            target="_blank"
            rel="noopener noreferrer"
          >
            <svg width="20" height="20" class="me-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.5 2.25H16.5C17.7426 2.25 18.75 3.25736 18.75 4.5V19.5C18.75 20.7426 17.7426 21.75 16.5 21.75H7.5C6.25736 21.75 5.25 20.7426 5.25 19.5V4.5C5.25 3.25736 6.25736 2.25 7.5 2.25Z" stroke="currentColor" stroke-width="1.5"/>
              <path d="M9 8.25H15M9 11.25H15M9 14.25H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            arXiv
          </a>


          <!-- GitHub button -->
          <a
            class="custom-btn"
            href="https://github.com/tehraninasab/pixelperfect-megamed"
            target="_blank"
            rel="noopener noreferrer"
          >
            <svg width="20" height="20" class="me-2" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.300 24 12c0-6.627-5.373-12-12-12z"/>
            </svg>
            Code
          </a>
        </div>
      </div>
    </header>
    <div class="container-lg my-4">
        <!-- ================= TEASER ================= -->
        <figure class="text-center fade-in">
          <div class="d-inline-block w-50 text-start">
            <!-- Add text-start here -->
            <img
              src="images/intro.png"
              alt="Paper teaser figure"
              class="img-fluid rounded"
            />
            <figcaption class="text-muted small mt-2">
              Figure 1: Grad-CAM visualization of activation maps in the EfficientNet classifier for pleural effusion
              (PE) classification of a patient’s Chest X-ray image. The heatmaps highlight that the model fails
              to focus on relevant regions in low-resolution images, leading to incorrect classifications. At the
              higher resolution, the model focuses on the exact location of interest.
            </figcaption>
          </div>
        </figure>

        <!-- Motivation Figure -->
        <figure class="text-center fade-in">
          <div class="d-inline-block w-50 text-start">
          <img
            src="images/motivation.png"
            alt="Motivation for high-resolution image synthesis"
            class="img-fluid rounded shadow-sm"
          />
          <figcaption class="text-muted small mt-2">
            Figure 2: The effect of image resolution on multi-class disease classification performance (Left: AU-
            ROC, Right: F1). The same samples across different resolutions are used to train all the EfficientNet
            classifiers.
          </figcaption>
          </div>
        </figure>

      <!-- ================= BODY LAYOUT ============ -->
      <div class="row gx-5 mt-4 justify-content-center">
        <!-- -------- Main article -------- -->
        <main class="col-lg-8 mx-auto">
          <section id="abstract" class="mb-5">
            <h2>Abstract</h2>
            <p>
              Medical image synthesis presents unique challenges due to the inherent complexity
              and high-resolution details required in clinical contexts. Traditional generative
              architectures such as Generative Adversarial Networks (GANs) or Variational Auto
              Encoder (VAEs) have shown great promise for high-resolution image generation
              but struggle with preserving fine-grained details that are key for accurate diagnosis.
              To address this issue, we introduce Pixel Perfect MegaMed, the first vision-language
              foundation model to synthesize images at resolutions of 1024 × 1024. Our method
              deploys a multi-scale transformer architecture designed specifically for ultra-high
              resolution medical image generation, enabling the preservation of both global
              anatomical context and local image-level details. By leveraging vision-language
              alignment techniques tailored to medical terminology and imaging modalities,
              Pixel Perfect MegaMed bridges the gap between textual descriptions and visual
              representations at unprecedented resolution levels. We apply our model to the
              CheXpert dataset and demonstrate its ability to generate clinically faithful chest
              X-rays from text prompts. Beyond visual quality, these high-resolution synthetic
              images prove valuable for downstream tasks such as classification, showing measur-
              able performance gains when used for data augmentation, particularly in low-data
              regimes.
            </p>
          </section>


          <section id="method" class="my-5">
            <h2>Method</h2>
          
            <!-- Key Contributions Box -->
            <div class="key-contributions-box p-4 rounded shadow-sm bg-light">
              <h3>Key Contributions</h3>
              <ul>
                <li>Ultra-high-resolution synthesis: First VLM to generate medical images at 1024×1024 (and up to 2048×2048) with fine clinical detail.</li>
                <li>Efficient fine-tuning: Uses LoRA on SDXL with medical prompts for scalable, domain-specific generation.</li>
                <li>Improves downstream tasks: Boosts classification performance in low-data settings through high-res synthetic augmentation.</li>
              </ul>
            </div>
          
            <!-- Architecture Figure -->
            <figure class="text-start mt-4">
              <img
                src="images/arch.png"
                alt="Overview of image synthesis pipeline"
                class="img-fluid rounded shadow-sm"
              />
              <figcaption class="text-muted small mt-2">
                Figure 3: Architecture for high-resolution medical image synthesis using SDXL.
              </figcaption>
            </figure>

          </section>

          <section id="results" class="my-5 text-start">
            <h2 class="text-start">Results</h2>
            
            <!-- Figure 1 -->
            <figure class="text-start mt-4">
              <img
                src="images/qualitative_samples.png"
                alt="Qualitative samples of generated images"
                class="img-fluid rounded shadow-sm"
              />
              <figcaption class="text-muted small mt-2">
                Figure 4: Comparison of (left) real samples and (right) synthesized samples at 1024 × 1024 resolution.
                Note the preservation of fine-grained anatomical details such as subtle texture variations in the lungs
                and sharp boundaries between anatomical regions—features that are often lost or blurred at lower
                resolutions.
              </figcaption>
            </figure>
          
            <!-- Figure 2 -->
            <figure class="text-start mt-4">
              <img
                src="images/progressive_scaling.png"
                alt="Progressive Upscaling of images"
                class="img-fluid rounded shadow-sm"
              />
              <figcaption class="text-muted small mt-2">
                Figure 5: Progressively scaling an image from 1024 × 1024 to 2048 × 2048.
              </figcaption>
            </figure>
            <figure class="text-start mt-4">
              <img
                src="images/performance.png"
                alt="Bezier Interpolations Along the Trajectory"
                class="img-fluid rounded shadow-sm"
              />
              <figcaption class="text-muted small mt-2">
                Performance of pretrained Efficient-Net on a held-out test set after augmenting (100 real
                samples per class) with 2000 samples of 1024 × 1024 resolution synthetic samples (from CheXpert)
                per class.
              </figcaption>
            </figure>
          </section>

          <section id="conclusion" class="mb-5">
            <h2>Conclusion</h2>
            <p>
              In this work, we presented a framework for synthesizing ultra-high resolution
              medical images by fine-tuning SDXL using low-rank adaptation (LoRA) and in-
              corporating a progressive upscaling module. By optimizing only a lightweight
              set of parameters, our approach efficiently learns clinically meaningful concepts
              from textual prompts while preserving the expressive power of large-scale pre-
              trained models. The integration of progressive upscaling—via an iterative ‘up-
              sample–diffuse–denoise’ process, skip residuals, and dilated sampling—enables
              the generation of anatomically coherent images at high resolutions. Through
              both quantitative metrics and downstream classification tasks, we demonstrate
              that the synthesized images not only exhibit high perceptual quality but also
              serve as valuable assets for data augmentation, improving generalization to clin-
              ical datasets. A primary limitation of our model is the tendency to halluci-
              nate fine-grained structures when scaling to extreme resolutions (e.g., beyond
              2048 × 2048), a known issue in progressive upscaling approaches where artificial
              detail may be introduced during denoising. Our method offers a scalable and
              accessible pathway for generating high-resolution medical images that can be
              leveraged to improve model explainability and support robustness testing.
            </p>
          </section>

          <section id="bibtex" class="mb-5">
            <h2>BibTeX</h2>
            <pre class="bg-light p-3 rounded border">
@article{tehraninasab2025pixelperfect,
  title     = {Pixel Perfect MegaMed: A Megapixel-Scale Vision-Language Foundation Model for Generating High Resolution Medical Images},
  author    = {TehraniNasab, Zahra and Kumar, Amar and Arbel, Tal},
  journal   = {arXiv preprint arXiv:2507.xxxxx},
  year      = {2025}
}          </pre
            >
          </section>
        </main>
      </div>
      <!-- /row -->
    </div>
    <!-- /container -->

    <footer class="custom-footer">
      <div class="footer-box">
        <h5>Acknowledgments and Funding</h5>
        <p class="small">
          The authors are grateful for funding provided by the Natural Sciences
          and Engineering Research Council of Canada, the Canadian Institute for
          Advanced Research (CIFAR) Artificial Intelligence Chairs program, Mila
          - Quebec AI Institute, Google Research, Calcul Québec, and the Digital
          Research Alliance of Canada.
        </p>
      </div>

      <p class="small mb-3">
        © Zahra TehraniNasab, Amar Kumar
      </p>

      <div class="visitor-counter">
        <span id="visitor-count">Loading...</span> visitors to this page
      </div>
    </footer>

    <!-- Bootstrap JS bundle (scrollspy, collapse, etc.) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Visitor Counter Script -->
    <script>
      // Wait for the DOM to be fully loaded
      document.addEventListener("DOMContentLoaded", function () {
        // Get the counter element
        const counterElement = document.getElementById("visitor-count");

        // Cloudflare Worker URL - our deployed worker
        const workerBaseUrl =
          "https://sd-latent-traversal.zahratehraninasab.workers.dev";

        // Function to update the display with count
        function updateCounterDisplay(count) {
          if (counterElement) {
            counterElement.textContent = count.toLocaleString();
          }
        }

        // Function to handle errors
        function handleError(error) {
          console.error("Error with visitor counter:", error);
          // If error occurs, show a default value
          if (counterElement) {
            counterElement.textContent = "1+";
          }
        }

        try {
          // Always call the increment endpoint - the worker will handle uniqueness by IP
          fetch(`${workerBaseUrl}/increment`)
            .then((response) => {
              if (!response.ok) {
                throw new Error("Network response was not ok");
              }
              return response.json();
            })
            .then((data) => {
              updateCounterDisplay(data.count);
            })
            .catch(handleError);
        } catch (error) {
          handleError(error);
        }
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const sections = document.querySelectorAll("section");

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
              } else {
                entry.target.classList.remove("visible");
              }
            });
          },
          {
            threshold: 0.1,
          },
        );

        sections.forEach((section) => {
          observer.observe(section);
        });
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const navbarHeight = document.querySelector(".custom-navbar").offsetHeight;
    
        // Add click event listener to all nav links
        document.querySelectorAll(".nav-link").forEach((link) => {
          link.addEventListener("click", function (event) {
            event.preventDefault(); // Prevent default anchor behavior
    
            const targetId = this.getAttribute("href").substring(1); // Get the target section ID
            const targetElement = document.getElementById(targetId);
    
            if (targetElement) {
              const offsetTop = targetElement.offsetTop - navbarHeight; // Adjust for navbar height
              window.scrollTo({
                top: offsetTop,
                behavior: "smooth", // Smooth scrolling
              });
            }
          });
        });
      });
    </script>
  </body>
</html>